(function(e){function n(n){for(var o,i,c=n[0],u=n[1],d=n[2],l=0,f=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);s&&s(n);while(f.length)f.shift()();return a.push.apply(a,d||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,i=1;i<t.length;i++){var u=t[i];0!==r[u]&&(o=!1)}o&&(a.splice(n--,1),e=c(c.s=t[0]))}return e}var o={},r={app:0},a=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"a57f8349","chunk-2d0a3577":"103c8a47","chunk-2d0a43df":"85cf4b06","chunk-2d0aa90c":"eb5ec9cf","chunk-2d0aab07":"544fce83","chunk-2d0abc00":"a982961f","chunk-2d0ae937":"293ae831","chunk-2d0aeb45":"6f6c95fd","chunk-2d0af08c":"ffa123d5","chunk-2d0afa49":"3aa985e2","chunk-2d0b2762":"9922ab75","chunk-2d0b6187":"46d183b8","chunk-2d0ba136":"8f5ef0f9","chunk-2d0bb267":"a9fb13e9","chunk-2d0bcec1":"88e7b467","chunk-2d0bdf38":"9d1c0afd","chunk-2d0bff92":"7e3f2915","chunk-2d0c0494":"6cdb553e","chunk-2d0c0a09":"2ec1ba15","chunk-2d0c4313":"54e0193b","chunk-2d0c46d1":"524003d3","chunk-2d0c512b":"aee55b70","chunk-2d0cf16e":"3c832286","chunk-2d0d056d":"6cd4fbb2","chunk-2d0d0645":"329dfb61","chunk-2d0d2f22":"2efdeec4","chunk-2d0d61fd":"bb176310","chunk-2d0d7e63":"19f60769","chunk-2d0e1b57":"068930de","chunk-2d0e1fbe":"c78950d1","chunk-2d0e22d6":"4275622b","chunk-2d0e542a":"99458ba9","chunk-2d0e57ec":"c76dca83","chunk-2d0e6553":"326a5893","chunk-2d0e6c86":"1cade724","chunk-2d0ea098":"6cab0e15","chunk-2d0f0a11":"864b636f","chunk-2d208ac5":"fa7099bf","chunk-2d209408":"0fb90cc2","chunk-2d20f745":"69222c89","chunk-2d20ff23":"5e0146c6","chunk-2d2138c7":"b4921213","chunk-2d216f3b":"dd3e893d","chunk-2d217e5b":"041d0b9f","chunk-2d21b84a":"ebafb1c6","chunk-2d21dcd2":"f016520f","chunk-2d21f327":"25a54bd8","chunk-2d2214b3":"3a6a73d6","chunk-2d221799":"3134e208","chunk-2d221814":"710d412d","chunk-2d221a34":"01bf253f","chunk-2d22502a":"bf57f189","chunk-2d226775":"968713fa","chunk-2d229411":"22b01025","chunk-2d2295e9":"92fd756e","chunk-2d22c171":"404cff55","chunk-2d22c2b8":"e6838beb","chunk-2d22ca58":"56109482","chunk-2d2311f7":"536ce1ec","chunk-2d237ee7":"5b7e6771","chunk-2d238465":"52bb5089","chunk-30597b4a":"5f45ae6d","chunk-7532b3ea":"3af1886d","chunk-e13e4362":"ed68ea6f"}[e]+".js"}function c(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(e);var d=new Error;a=function(n){u.onerror=u.onload=null,clearTimeout(l);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,t[1](d)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(n)},c.m=e,c.c=o,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)c.d(t,o,function(n){return e[n]}.bind(null,o));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var s=d;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("h1",[e._v("Vue Single Line Monaco Editor - Custom Language Theme")]),t("monaco-singleline",{staticStyle:{width:"50%"},attrs:{placeholder:"this is placeholder",language:e.langId,theme:e.theme,options:e.opts,editorBeforeMount:e.onEditorBeforeMount,editorMounted:e.onEditorMounted},model:{value:e.line,callback:function(n){e.line=n},expression:"line"}}),t("monaco-singleline",{staticStyle:{width:"400px"},attrs:{language:e.langId,theme:e.theme,options:e.opts,editorBeforeMount:e.onEditorBeforeMount,editorMounted:e.onEditorMounted},model:{value:e.line2,callback:function(n){e.line2=n},expression:"line2"}}),t("monaco-singleline",{attrs:{placeholder:"type `http` should see autocompletion",language:e.langId,theme:e.theme,options:e.opts,editorBeforeMount:e.onEditorBeforeMount,editorMounted:e.onEditorMounted},model:{value:e.line3,callback:function(n){e.line3=n},expression:"line3"}}),e._m(0)],1)},a=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("p",[e._v(" Demo of: "),t("a",{attrs:{href:"https://github.com/vikyd/vue-monaco-singleline",target:"_blank"}},[e._v("https://github.com/vikyd/vue-monaco-singleline")])]),t("p",[e._v("Completion works locally, but not working on codesandbox.io")])])}],i=(t("4160"),t("a15b"),t("baa5"),t("d81d"),t("fb6a"),t("2ca0"),t("159b"),t("b465")),c=t.n(i),u=t("b61c"),d=t.n(u),l=/\{\{\w+\}\}/,s={http:"http",https:"https",vars:"vars"},f={name:"App",components:{MonacoSingleline:c.a,MonacoEditor:d.a},data:function(){return{line:"https://google.com?a={{varA}}&b={{varB}}",line2:"http://{{host}}.com",line3:"",x:"",opts:{fontFamily:"PingFang SC, -apple-system, Helvetica Neue, Helvetica, BlinkMacSystemFont, Microsoft YaHei, tahoma, Arial, Open Sans, Hiragino Sans GB, Heiti SC, WenQuanYi Micro Hei, sans-serif"},langId:"httpLang",theme:"myTheme"}},methods:{onEditorBeforeMount:function(e){console.log("onEditorBeforeMount");var n={};e.languages.getLanguages().forEach((function(e){n[e.id]=e.id})),n[this.langId]||(this.registerNewLang(e),this.addAutoCompletion(e),this.defineNewTheme(e))},onEditorMounted:function(e,n){console.log("onEditorMounted")},doo:function(e){console.log(123),e.languages.register({id:"mySpecialLanguage"}),e.languages.setMonarchTokensProvider("mySpecialLanguage",{tokenizer:{root:[[/\[error.*/,"custom-error"],[/\[notice.*/,"custom-notice"],[/\[info.*/,"custom-info"],[/\[[a-zA-Z 0-9:]+\]/,"custom-date"]]}}),e.editor.defineTheme("myCoolTheme",{base:"vs",inherit:!1,rules:[{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}]}),e.languages.registerCompletionItemProvider("mySpecialLanguage",{provideCompletionItems:function(){var n=[{label:"simpleText",kind:e.languages.CompletionItemKind.Text,insertText:"simpleText"},{label:"testing",kind:e.languages.CompletionItemKind.Keyword,insertText:"testing(${1:condition})",insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"ifelse",kind:e.languages.CompletionItemKind.Snippet,insertText:["if (${1:condition}) {","\t$0","} else {","\t","}"].join("\n"),insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"If-Else Statement"}];return{suggestions:n}}})},registerNewLang:function(e){e.languages.register({id:this.langId}),e.languages.setMonarchTokensProvider(this.langId,{kwHttp:[s.http],kwHttps:[s.https],tokenizer:{root:[[l,s.vars],[/^([a-z][\w]*)(:\/\/)/,[{cases:{"@kwHttps":s.https,"@kwHttp":s.http}},""]]]}})},defineNewTheme:function(e){e.editor.defineTheme(this.theme,{base:"vs",inherit:!0,rules:[{token:s.vars,foreground:"0052d9"},{token:s.http,foreground:"ff0000",fontStyle:"bold"},{token:s.https,foreground:"40b13c",fontStyle:"bold"}]})},addAutoCompletion:function(e){console.log("set"),console.log(this.langId),console.log(e.languages.registerCompletionItemProvider),e.languages.registerCompletionItemProvider(this.langId,{provideCompletionItems:function(n,t){console.log("before ");var o={starLineNumber:1,startColumn:t.column,endLineNumber:1,endColumn:t.column},r=n.getLineContent(1);console.log("before line");var a=r.slice(0,t.column-2),i=r.slice(0,t.column-1),c=a.lastIndexOf("{{"),u=a.lastIndexOf("}}"),d=r[t.column-2];console.log("after line");var l=-1;if(c===l&&u===l&&"https://".startsWith(i))return console.log("ok"),{suggestions:[{label:"http://",kind:e.languages.CompletionItemKind.Field,insertText:"http://"},{label:"https://",kind:e.languages.CompletionItemKind.Field,insertText:"https://"}],range:o};var s=["com"];if("."===d){var f=s.map((function(n){return{label:n,kind:e.languages.CompletionItemKind.Field,insertText:n}}));return console.log("com"),{suggestions:f,range:o}}if(c<=u)return console.log("empty"),"";console.log("last");var h=[];return{suggestions:h,range:o}}}),console.log("after")}}},h=f,g=(t("034f"),t("2877")),p=Object(g["a"])(h,r,a,!1,null,null,null),m=p.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,n,t){}});
//# sourceMappingURL=app.bbe595ab.js.map